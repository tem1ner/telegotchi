<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ü¶á –ú—ã—à—å–∫–∞-–ª–µ—Ç—É—á–∫–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* –°–ë–†–ê–°–´–í–ê–ï–ú –í–°–ï –û–¢–°–¢–£–ü–´ –ò –°–ö–†–û–õ–õ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-overflow-scrolling: touch;
        }
        
        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            position: fixed;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0c0c2e;
            color: white;
        }
        
        /* –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ô–ù–ï–† */
        .app-container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        /* –í–ï–†–•–ù–Ø–Ø –ü–ê–ù–ï–õ–¨ –°–¢–ê–¢–ò–°–¢–ò–ö–ò –ò–ì–†–û–ö–ê */
        .player-header {
            background: linear-gradient(90deg, #1a1a3e 0%, #2d2d5e 100%);
            padding: 12px 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-shrink: 0;
            border-bottom: 2px solid #8b00ff;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            z-index: 100;
        }
        
        /* –õ–ï–í–ê–Ø –ß–ê–°–¢–¨ - –ò–ì–†–û–ö –ò –£–†–û–í–ï–ù–¨ */
        .player-info {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
            min-width: 0;
        }
        
        .player-avatar {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #8b00ff, #ff0066);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
            border: 2px solid #ffcc00;
            box-shadow: 0 0 10px rgba(255, 204, 0, 0.3);
        }
        
        .player-details {
            flex: 1;
            min-width: 0;
        }
        
        .player-name {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 4px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: #ffcc00;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .level-info {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 4px 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .level-badge {
            background: #ff0066;
            color: white;
            font-size: 12px;
            font-weight: bold;
            padding: 2px 8px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .level-bar-container {
            flex: 1;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }
        
        .level-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff0066, #ff9900);
            border-radius: 4px;
            transition: width 0.5s ease;
            position: relative;
            overflow: hidden;
        }
        
        .level-bar-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.3),
                transparent
            );
            animation: shimmer 2s infinite;
        }
        
        .level-text {
            font-size: 10px;
            color: #aaa;
            white-space: nowrap;
            margin-left: 4px;
        }
        
        /* –ü–†–ê–í–ê–Ø –ß–ê–°–¢–¨ - –†–ï–°–£–†–°–´ */
        .player-resources {
            display: flex;
            gap: 12px;
            flex-shrink: 0;
        }
        
        .resource-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 60px;
        }
        
        .resource-with-plus {
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .resource-icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            border-radius: 50%;
            margin-bottom: 2px;
        }
        
        .blood-icon {
            background: linear-gradient(135deg, #8b0000, #ff0000);
            color: white;
        }
        
        .energy-icon {
            background: linear-gradient(135deg, #00b09b, #96c93d);
            color: white;
        }
        
        .gold-icon {
            background: linear-gradient(135deg, #ffd700, #ff9900);
            color: #8b4513;
        }
        
        .gem-icon {
            background: linear-gradient(135deg, #8b00ff, #00ccff);
            color: white;
        }
        
        .resource-value {
            font-size: 14px;
            font-weight: bold;
            color: #ffcc00;
        }
        
        .resource-label {
            font-size: 9px;
            color: #aaa;
            margin-top: -2px;
        }
        
        .plus-button {
            width: 20px;
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 50%;
            color: #ffcc00;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            margin-left: 2px;
        }
        
        .plus-button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }
        
        /* –ö–û–ú–ù–ê–¢–ê –ë–ê–®–ù–ò */
        .tower-room {
            flex: 1;
            background: linear-gradient(180deg, #1a1a3e 0%, #0c0c2e 100%);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 0;
        }
        
        .room-container {
            width: 375px;
            height: 300px;
            max-width: 100%;
            max-height: 60vh;
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 3px solid rgba(255, 0, 102, 0.3);
        }
        
        .room-background {
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(rgba(12, 12, 46, 0.8), rgba(12, 12, 46, 0.9)),
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="375" height="300"><defs><pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse"><path d="M 40 0 L 0 0 0 40" fill="none" stroke="%238b00ff" stroke-width="1" opacity="0.3"/></pattern></defs><rect width="100%" height="100%" fill="%231a1a3e"/><rect width="100%" height="100%" fill="url(%23grid)"/><circle cx="50%" cy="40%" r="80" fill="%238b00ff" opacity="0.1"/></svg>');
            background-size: cover;
            background-position: center;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        .tower-window {
            position: absolute;
            top: 40px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 120px;
            background: rgba(135, 206, 235, 0.2);
            border: 8px solid #8B4513;
            border-radius: 15px 15px 0 0;
            overflow: hidden;
            z-index: 2;
        }
        
        .window-content {
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, #1e3c72, #2a5298);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        
        .bat-character {
            position: absolute;
            top: 160px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 80px;
            z-index: 4;
            animation: batHover 2s ease-in-out infinite;
        }
        
        /* –°–¢–ê–¢–£–° –ë–ê–†–´ –ú–´–®–ö–ò */
        .status-bars {
            padding: 15px 20px;
            background: rgba(26, 26, 62, 0.8);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            flex-shrink: 0;
        }
        
        .status-bar {
            margin: 8px 0;
        }
        
        .status-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 4px;
            font-size: 14px;
        }
        
        .bar-container {
            width: 100%;
            height: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            overflow: hidden;
        }
        
        .bar-fill {
            height: 100%;
            border-radius: 6px;
            transition: width 0.5s ease;
        }
        
        .hunger { 
            background: linear-gradient(90deg, #ff416c, #ff4b2b);
            width: 60%;
        }
        
        .happiness { 
            background: linear-gradient(90deg, #00b09b, #96c93d);
            width: 80%;
        }
        
        .energy { 
            background: linear-gradient(90deg, #f7971e, #ffd200);
            width: 70%;
        }
        
        /* –ö–ù–û–ü–ö–ò –î–ï–ô–°–¢–í–ò–ô */
        .action-buttons {
            padding: 15px;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            background: rgba(12, 12, 46, 0.9);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            flex-shrink: 0;
        }
        
        .action-btn {
            background: linear-gradient(135deg, #8b00ff, #ff0066);
            border: none;
            border-radius: 15px;
            padding: 15px 5px;
            color: white;
            font-size: 14px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 0, 102, 0.4);
        }
        
        /* –ù–ò–ñ–ù–Ø–Ø –ü–ê–ù–ï–õ–¨ –ù–ê–í–ò–ì–ê–¶–ò–ò */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(26, 26, 62, 0.95);
            border-top: 2px solid #8b00ff;
            backdrop-filter: blur(20px);
            z-index: 1000;
            padding: 10px 0;
            display: flex;
            justify-content: space-around;
            flex-shrink: 0;
        }
        
        .nav-btn {
            background: none;
            border: none;
            color: #888;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            padding: 8px 12px;
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.3s;
            min-width: 60px;
            font-size: 11px;
        }
        
        .nav-btn.active {
            background: rgba(139, 0, 255, 0.2);
            color: #ffcc00;
            transform: translateY(-5px);
        }
        
        .nav-btn i {
            font-size: 20px;
        }
        
        /* –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            overflow-y: auto;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #1a1a3e, #0c0c2e);
            margin: 20px auto;
            padding: 20px;
            border-radius: 20px;
            max-width: 400px;
            max-height: 80vh;
            border: 2px solid #8b00ff;
        }
        
        /* –ê–ù–ò–ú–ê–¶–ò–ò */
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        @keyframes batHover {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-10px); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        /* –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ */
        @media (max-width: 400px) {
            .player-header {
                padding: 10px 12px;
            }
            
            .player-avatar {
                width: 40px;
                height: 40px;
                font-size: 20px;
            }
            
            .player-name {
                font-size: 14px;
            }
            
            .resource-item {
                min-width: 50px;
            }
            
            .resource-value {
                font-size: 12px;
            }
            
            .plus-button {
                width: 18px;
                height: 18px;
                font-size: 12px;
            }
        }
        
        @media (max-height: 700px) {
            .room-container {
                height: 250px;
            }
        }
    </style>
</head>
<body class="no-scroll no-select">
    <div class="app-container">
        <!-- –í–ï–†–•–ù–Ø–Ø –ü–ê–ù–ï–õ–¨ –°–¢–ê–¢–ò–°–¢–ò–ö–ò –ò–ì–†–û–ö–ê -->
        <header class="player-header">
            <!-- –õ–ï–í–ê–Ø –ß–ê–°–¢–¨: –ò–≥—Ä–æ–∫ –∏ —É—Ä–æ–≤–µ–Ω—å -->
            <div class="player-info">
                <div class="player-avatar" id="playerAvatar">
                    ü¶á
                </div>
                <div class="player-details">
                    <div class="player-name" id="playerName">
                        –ù–æ—á–Ω–æ–π_–û—Ö–æ—Ç–Ω–∏–∫
                    </div>
                    <div class="level-info">
                        <div class="level-badge">
                            <i class="fas fa-crown"></i>
                            <span id="currentLevel">15</span>
                        </div>
                        <div class="level-bar-container">
                            <div class="level-bar-fill" id="levelBar" style="width: 75%"></div>
                        </div>
                        <div class="level-text" id="levelText">
                            750/1000 XP
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- –ü–†–ê–í–ê–Ø –ß–ê–°–¢–¨: –†–µ—Å—É—Ä—Å—ã -->
            <div class="player-resources">
                <!-- –ö—Ä–æ–≤—å (—ç–Ω–µ—Ä–≥–∏—è –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π) -->
                <div class="resource-item">
                    <div class="resource-icon blood-icon">
                        <i class="fas fa-tint"></i>
                    </div>
                    <div class="resource-value" id="bloodValue">42/100</div>
                    <div class="resource-label">–ö—Ä–æ–≤—å</div>
                </div>
                
                <!-- –ó–æ–ª–æ—Ç–æ (–∑–∞ –∑–∞–¥–∞–Ω–∏—è) -->
                <div class="resource-item">
                    <div class="resource-with-plus">
                        <div class="resource-icon gold-icon">
                            <i class="fas fa-coins"></i>
                        </div>
                        <div class="resource-value" id="goldValue">1,250</div>
                        <button class="plus-button" onclick="openShop('gold')">
                            +
                        </button>
                    </div>
                    <div class="resource-label">–ó–æ–ª–æ—Ç–æ</div>
                </div>
                
                <!-- –ì–µ–º—ã (–ø—Ä–µ–º–∏—É–º –≤–∞–ª—é—Ç–∞) -->
                <div class="resource-item">
                    <div class="resource-with-plus">
                        <div class="resource-icon gem-icon">
                            <i class="fas fa-gem"></i>
                        </div>
                        <div class="resource-value" id="gemValue">85</div>
                        <button class="plus-button" onclick="openGemShop()">
                            +
                        </button>
                    </div>
                    <div class="resource-label">–ì–µ–º—ã</div>
                </div>
            </div>
        </header>
        
        <!-- –ö–û–ú–ù–ê–¢–ê –ë–ê–®–ù–ò -->
        <main class="tower-room">
            <div class="room-container">
                <div class="room-background"></div>
                
                <div class="tower-window">
                    <div class="window-content" id="windowContent">
                        üåô –ù–æ—á—å
                    </div>
                </div>
                
                <div class="bat-character">
                    <!-- –ü—Ä–æ—Å—Ç–∞—è –≥—Ä–∞—Ñ–∏–∫–∞ –º—ã—à–∫–∏ -->
                    <div style="
                        width: 60px; 
                        height: 40px; 
                        background: #222; 
                        border-radius: 50%;
                        position: absolute;
                        top: 20px;
                        left: 10px;
                        box-shadow: 0 0 10px rgba(255, 0, 102, 0.3);
                    "></div>
                    <div style="
                        width: 80px; 
                        height: 60px; 
                        background: #111; 
                        border-radius: 50%;
                        position: absolute;
                        top: 10px;
                        left: -30px;
                        transform: rotate(-20deg);
                    "></div>
                    <div style="
                        width: 80px; 
                        height: 60px; 
                        background: #111; 
                        border-radius: 50%;
                        position: absolute;
                        top: 10px;
                        right: -30px;
                        transform: rotate(20deg);
                    "></div>
                </div>
            </div>
        </main>
        
        <!-- –°–¢–ê–¢–£–° –ë–ê–†–´ –ú–´–®–ö–ò -->
        <div class="status-bars">
            <div class="status-bar">
                <div class="status-label">
                    <span>ü©∏ –ì–æ–ª–æ–¥</span>
                    <span id="hungerValue">60%</span>
                </div>
                <div class="bar-container">
                    <div class="bar-fill hunger"></div>
                </div>
            </div>
            <div class="status-bar">
                <div class="status-label">
                    <span>üòä –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</span>
                    <span id="happinessValue">80%</span>
                </div>
                <div class="bar-container">
                    <div class="bar-fill happiness"></div>
                </div>
            </div>
        </div>
        
        <!-- –ö–ù–û–ü–ö–ò –î–ï–ô–°–¢–í–ò–ô -->
        <div class="action-buttons">
            <button class="action-btn" onclick="performAction('feed')">
                <i class="fas fa-wine-bottle"></i>
                <span>–ü–æ–∫–æ—Ä–º–∏—Ç—å</span>
            </button>
            <button class="action-btn" onclick="performAction('play')">
                <i class="fas fa-ghost"></i>
                <span>–ü–æ–∏–≥—Ä–∞—Ç—å</span>
            </button>
            <button class="action-btn" onclick="performAction('clean')">
                <i class="fas fa-bath"></i>
                <span>–ü–æ–º—ã—Ç—å</span>
            </button>
            <button class="action-btn" onclick="performAction('sleep')">
                <i class="fas fa-bed"></i>
                <span>–£–ª–æ–∂–∏—Ç—å</span>
            </button>
        </div>
        
        <!-- –ù–ò–ñ–ù–Ø–Ø –ü–ê–ù–ï–õ–¨ –ù–ê–í–ò–ì–ê–¶–ò–ò -->
        <nav class="bottom-nav">
            <button class="nav-btn" onclick="openTab('home')">
                <i class="fas fa-home"></i>
                <span>–ì–ª–∞–≤–Ω–∞—è</span>
            </button>
            <button class="nav-btn" onclick="openTab('shop')">
                <i class="fas fa-store"></i>
                <span>–ú–∞–≥–∞–∑–∏–Ω</span>
            </button>
            <button class="nav-btn" onclick="openTab('friends')">
                <i class="fas fa-users"></i>
                <span>–î—Ä—É–∑—å—è</span>
            </button>
            <button class="nav-btn" onclick="openTab('tasks')">
                <i class="fas fa-tasks"></i>
                <span>–ó–∞–¥–∞—á–∏</span>
            </button>
            <button class="nav-btn" onclick="openTab('settings')">
                <i class="fas fa-cog"></i>
                <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
            </button>
        </nav>
        
        <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –ú–ê–ì–ê–ó–ò–ù–ê –ó–û–õ–û–¢–ê -->
        <div id="goldShopModal" class="modal">
            <div class="modal-content">
                <h3>üí∞ –ö—É–ø–∏—Ç—å –∑–æ–ª–æ—Ç–æ</h3>
                <p class="shop-subtitle">–ó–æ–ª–æ—Ç–æ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π –∏–ª–∏ –∫—É–ø–∏—Ç—å –∑–∞ –≥–µ–º—ã</p>
                
                <div class="shop-items">
                    <div class="shop-item" onclick="buyGold(100, 10)">
                        <div class="shop-item-icon">
                            <i class="fas fa-coins" style="color: #ffd700;"></i>
                        </div>
                        <div class="shop-item-info">
                            <h4>100 –∑–æ–ª–æ—Ç–∞</h4>
                            <p>–ú–∞–ª—ã–π –Ω–∞–±–æ—Ä</p>
                        </div>
                        <div class="shop-item-price">
                            <i class="fas fa-gem" style="color: #8b00ff;"></i>
                            <span>10 –≥–µ–º–æ–≤</span>
                        </div>
                    </div>
                    
                    <div class="shop-item" onclick="buyGold(500, 45)">
                        <div class="shop-item-icon">
                            <i class="fas fa-coins" style="color: #ffd700;"></i>
                        </div>
                        <div class="shop-item-info">
                            <h4>500 –∑–æ–ª–æ—Ç–∞</h4>
                            <p>–°—Ä–µ–¥–Ω–∏–π –Ω–∞–±–æ—Ä</p>
                        </div>
                        <div class="shop-item-price">
                            <i class="fas fa-gem" style="color: #8b00ff;"></i>
                            <span>45 –≥–µ–º–æ–≤</span>
                        </div>
                    </div>
                    
                    <div class="shop-item" onclick="buyGold(1500, 120)">
                        <div class="shop-item-icon">
                            <i class="fas fa-coins" style="color: #ffd700;"></i>
                        </div>
                        <div class="shop-item-info">
                            <h4>1500 –∑–æ–ª–æ—Ç–∞</h4>
                            <p>–ë–æ–ª—å—à–æ–π –Ω–∞–±–æ—Ä</p>
                        </div>
                        <div class="shop-item-price">
                            <i class="fas fa-gem" style="color: #8b00ff;"></i>
                            <span>120 –≥–µ–º–æ–≤</span>
                        </div>
                    </div>
                </div>
                
                <div class="balance-info">
                    <p>–í–∞—à –±–∞–ª–∞–Ω—Å: <span id="currentGems">85</span> <i class="fas fa-gem"></i></p>
                </div>
                
                <button onclick="closeModal('goldShopModal')" class="close-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
        
        <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –ú–ê–ì–ê–ó–ò–ù–ê –ì–ï–ú–û–í -->
        <div id="gemShopModal" class="modal">
            <div class="modal-content">
                <h3>üíé –ö—É–ø–∏—Ç—å –≥–µ–º—ã</h3>
                <p class="shop-subtitle">–ì–µ–º—ã –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å –∑–∞ Telegram Stars ‚≠ê</p>
                
                <div class="shop-items">
                    <div class="shop-item" onclick="buyGems(10, 10)">
                        <div class="shop-item-icon">
                            <i class="fas fa-gem" style="color: #8b00ff;"></i>
                        </div>
                        <div class="shop-item-info">
                            <h4>10 –≥–µ–º–æ–≤</h4>
                            <p>–ù–∞—á–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä</p>
                        </div>
                        <div class="shop-item-price">
                            <i class="fas fa-star" style="color: #ffcc00;"></i>
                            <span>10 –∑–≤—ë–∑–¥</span>
                        </div>
                    </div>
                    
                    <div class="shop-item" onclick="buyGems(50, 45)">
                        <div class="shop-item-icon">
                            <i class="fas fa-gem" style="color: #8b00ff;"></i>
                        </div>
                        <div class="shop-item-info">
                            <h4>50 –≥–µ–º–æ–≤</h4>
                            <p>–ü–æ–ø—É–ª—è—Ä–Ω—ã–π –Ω–∞–±–æ—Ä</p>
                        </div>
                        <div class="shop-item-price">
                            <i class="fas fa-star" style="color: #ffcc00;"></i>
                            <span>45 –∑–≤—ë–∑–¥</span>
                        </div>
                    </div>
                    
                    <div class="shop-item" onclick="buyGems(150, 120)">
                        <div class="shop-item-icon">
                            <i class="fas fa-gem" style="color: #8b00ff;"></i>
                        </div>
                        <div class="shop-item-info">
                            <h4>150 –≥–µ–º–æ–≤</h4>
                            <p>–í—ã–≥–æ–¥–Ω—ã–π –Ω–∞–±–æ—Ä</p>
                        </div>
                        <div class="shop-item-price">
                            <i class="fas fa-star" style="color: #ffcc00;"></i>
                            <span>120 –∑–≤—ë–∑–¥</span>
                        </div>
                    </div>
                </div>
                
                <div class="telegram-payment-info">
                    <p><i class="fas fa-info-circle"></i> –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ Telegram Stars</p>
                    <small>–ó–≤—ë–∑–¥—ã –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∑–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –∏–ª–∏ –∫—É–ø–∏—Ç—å</small>
                </div>
                
                <button onclick="closeModal('gemShopModal')" class="close-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
        
        <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –ó–ê–î–ê–ù–ò–ô -->
        <div id="tasksModal" class="modal">
            <div class="modal-content">
                <h3>üéØ –ó–∞–¥–∞–Ω–∏—è –¥–ª—è –∑–æ–ª–æ—Ç–∞</h3>
                
                <div class="tasks-list">
                    <div class="task-item" onclick="completeTask('feed')">
                        <div class="task-info">
                            <h4>–ü–æ–∫–æ—Ä–º–∏—Ç—å –º—ã—à–∫—É</h4>
                            <p>–ü–æ–∫–æ—Ä–º–∏—Ç–µ –ª–µ—Ç—É—á—É—é –º—ã—à–∫—É 3 —Ä–∞–∑–∞</p>
                        </div>
                        <div class="task-reward">
                            <i class="fas fa-coins"></i>
                            <span>+50 –∑–æ–ª–æ—Ç–∞</span>
                        </div>
                        <div class="task-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 66%"></div>
                            </div>
                            <span>2/3</span>
                        </div>
                    </div>
                    
                    <div class="task-item" onclick="completeTask('play')">
                        <div class="task-info">
                            <h4>–ü–æ–∏–≥—Ä–∞—Ç—å —Å –º—ã—à–∫–æ–π</h4>
                            <p>–ü–æ–∏–≥—Ä–∞–π—Ç–µ 5 —Ä–∞–∑ –∑–∞ –¥–µ–Ω—å</p>
                        </div>
                        <div class="task-reward">
                            <i class="fas fa-coins"></i>
                            <span>+100 –∑–æ–ª–æ—Ç–∞</span>
                        </div>
                        <div class="task-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 40%"></div>
                            </div>
                            <span>2/5</span>
                        </div>
                    </div>
                    
                    <div class="task-item" onclick="completeTask('daily')">
                        <div class="task-info">
                            <h4>–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –≤—Ö–æ–¥</h4>
                            <p>–ó–∞–π–¥–∏—Ç–µ –≤ –∏–≥—Ä—É 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥</p>
                        </div>
                        <div class="task-reward">
                            <i class="fas fa-coins"></i>
                            <span>+200 –∑–æ–ª–æ—Ç–∞</span>
                        </div>
                        <div class="task-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 85%"></div>
                            </div>
                            <span>6/7</span>
                        </div>
                    </div>
                </div>
                
                <button onclick="closeModal('tasksModal')" class="close-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>
    
    <script>
        // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==========
        document.addEventListener('DOMContentLoaded', function() {
            // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
            document.body.addEventListener('touchmove', function(e) {
                if (!e.target.closest('.modal-content')) {
                    e.preventDefault();
                }
            }, { passive: false });
            
            // Telegram Web App
            if (window.Telegram?.WebApp) {
                const tg = Telegram.WebApp;
                tg.expand();
                tg.enableClosingConfirmation();
                
                // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                const user = tg.initDataUnsafe?.user;
                if (user) {
                    updatePlayerInfo(user);
                }
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–∞
            loadPlayerData();
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
            startGameUpdates();
        });
        
        // ========== –î–ê–ù–ù–´–ï –ò–ì–†–û–ö–ê ==========
        let playerData = {
            name: "–ù–æ—á–Ω–æ–π_–û—Ö–æ—Ç–Ω–∏–∫",
            level: 15,
            currentXP: 750,
            maxXP: 1000,
            blood: 42,          // –ö—Ä–æ–≤—å –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π (–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º)
            maxBlood: 100,
            gold: 1250,         // –ó–æ–ª–æ—Ç–æ –∑–∞ –∑–∞–¥–∞–Ω–∏—è
            gems: 85,           // –ì–µ–º—ã (–ø—Ä–µ–º–∏—É–º –≤–∞–ª—é—Ç–∞)
            telegramStars: 50   // Telegram Stars (–µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ)
        };
        
        // ========== –û–ë–ù–û–í–õ–ï–ù–ò–ï –ò–ù–¢–ï–†–§–ï–ô–°–ê ==========
        function updatePlayerInfo(user) {
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–º—è –∏–∑ Telegram
            if (user.first_name) {
                const username = user.username ? `@${user.username}` : user.first_name;
                document.getElementById('playerName').textContent = username;
                playerData.name = username;
            }
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–≤–∞—Ç–∞—Ä (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–∑–∂–µ)
            const avatar = document.getElementById('playerAvatar');
            if (user.photo_url) {
                avatar.innerHTML = `<img src="${user.photo_url}" style="width:100%;height:100%;border-radius:50%;">`;
            }
        }
        
        function updatePlayerUI() {
            // –£—Ä–æ–≤–µ–Ω—å –∏ –æ–ø—ã—Ç
            const xpPercentage = (playerData.currentXP / playerData.maxXP) * 100;
            document.getElementById('currentLevel').textContent = playerData.level;
            document.getElementById('levelBar').style.width = `${xpPercentage}%`;
            document.getElementById('levelText').textContent = 
                `${playerData.currentXP}/${playerData.maxXP} XP`;
            
            // –†–µ—Å—É—Ä—Å—ã
            document.getElementById('bloodValue').textContent = 
                `${playerData.blood}/${playerData.maxBlood}`;
            document.getElementById('goldValue').textContent = 
                formatNumber(playerData.gold);
            document.getElementById('gemValue').textContent = playerData.gems;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö
            document.getElementById('currentGems').textContent = playerData.gems;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ
            savePlayerData();
        }
        
        // ========== –°–ò–°–¢–ï–ú–ê –ö–†–û–í–ò (–≠–ù–ï–†–ì–ò–ò) ==========
        function useBlood(amount) {
            if (playerData.blood >= amount) {
                playerData.blood -= amount;
                updatePlayerUI();
                return true;
            }
            showNotification(`–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–æ–≤–∏! –ù—É–∂–Ω–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.`);
            return false;
        }
        
        function restoreBlood() {
            // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—Ä–æ–≤–∏ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º (1 –µ–¥–∏–Ω–∏—Ü–∞ –≤ 5 –º–∏–Ω—É—Ç)
            playerData.blood = Math.min(playerData.maxBlood, playerData.blood + 1);
            updatePlayerUI();
        }
        
        // ========== –ú–ê–ì–ê–ó–ò–ù–´ ==========
        function openShop(type) {
            closeAllModals();
            if (type === 'gold') {
                document.getElementById('goldShopModal').style.display = 'block';
            }
        }
        
        function openGemShop() {
            closeAllModals();
            document.getElementById('gemShopModal').style.display = 'block';
        }
        
        function buyGold(amount, gemCost) {
            if (playerData.gems >= gemCost) {
                playerData.gems -= gemCost;
                playerData.gold += amount;
                updatePlayerUI();
                showNotification(`–ö—É–ø–ª–µ–Ω–æ ${amount} –∑–æ–ª–æ—Ç–∞ –∑–∞ ${gemCost} –≥–µ–º–æ–≤!`);
            } else {
                showNotification(`–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–µ–º–æ–≤! –ù—É–∂–Ω–æ ${gemCost}, –µ—Å—Ç—å ${playerData.gems}`);
            }
        }
        
        function buyGems(amount, starCost) {
            // –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Stars
            if (window.Telegram?.WebApp) {
                const tg = Telegram.WebApp;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–∫—É–ø–∫–∏
                if (confirm(`–ö—É–ø–∏—Ç—å ${amount} –≥–µ–º–æ–≤ –∑–∞ ${starCost} Telegram Stars?`)) {
                    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –≤—ã–∑–æ–≤ –ø–ª–∞—Ç–µ–∂–Ω–æ–≥–æ API
                    showNotification(`–ü–æ–∫—É–ø–∫–∞ ${amount} –≥–µ–º–æ–≤ –∑–∞ ${starCost} Stars...`);
                    
                    // –î–µ–º–æ-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
                    setTimeout(() => {
                        playerData.gems += amount;
                        updatePlayerUI();
                        showNotification(`–ü–æ–ª—É—á–µ–Ω–æ ${amount} –≥–µ–º–æ–≤!`);
                    }, 1000);
                }
            } else {
                // –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
                playerData.gems += amount;
                updatePlayerUI();
                showNotification(`–ü–æ–ª—É—á–µ–Ω–æ ${amount} –≥–µ–º–æ–≤! (–¥–µ–º–æ-—Ä–µ–∂–∏–º)`);
            }
        }
        
        // ========== –ó–ê–î–ê–ù–ò–Ø ==========
        let tasks = {
            feed: { current: 2, required: 3, reward: 50, completed: false },
            play: { current: 2, required: 5, reward: 100, completed: false },
            daily: { current: 6, required: 7, reward: 200, completed: false }
        };
        
        function completeTask(taskId) {
            const task = tasks[taskId];
            if (!task.completed) {
                task.current++;
                
                if (task.current >= task.required) {
                    task.completed = true;
                    playerData.gold += task.reward;
                    updatePlayerUI();
                    showNotification(`–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ! +${task.reward} –∑–æ–ª–æ—Ç–∞`);
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
                    updateTaskUI();
                } else {
                    showNotification(`–ü—Ä–æ–≥—Ä–µ—Å—Å: ${task.current}/${task.required}`);
                }
            } else {
                showNotification('–ó–∞–¥–∞–Ω–∏–µ —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ!');
            }
        }
        
        function updateTaskUI() {
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –æ–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–¥–∞–Ω–∏–π
            console.log('–ó–∞–¥–∞–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω—ã:', tasks);
        }
        
        // ========== –î–ï–ô–°–¢–í–ò–Ø –° –ú–´–®–ö–û–ô ==========
        function performAction(action) {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ö–≤–∞—Ç–∞–µ—Ç –ª–∏ –∫—Ä–æ–≤–∏
            const bloodCost = {
                feed: 10,
                play: 15,
                clean: 5,
                sleep: 0
            };
            
            if (useBlood(bloodCost[action])) {
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–¥–∞–Ω–∏–π
                if (action === 'feed') {
                    tasks.feed.current = Math.min(tasks.feed.current + 1, tasks.feed.required);
                } else if (action === 'play') {
                    tasks.play.current = Math.min(tasks.play.current + 1, tasks.play.required);
                }
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
                animateAction(action);
                showNotification(`–î–µ–π—Å—Ç–≤–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ! –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ ${bloodCost[action]} –∫—Ä–æ–≤–∏`);
            }
        }
        
        // ========== –£–†–û–í–ï–ù–¨ –ò –û–ü–´–¢ ==========
        function addXP(amount) {
            playerData.currentXP += amount;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –∞–ø
            if (playerData.currentXP >= playerData.maxXP) {
                playerData.level++;
                playerData.currentXP -= playerData.maxXP;
                playerData.maxXP = Math.floor(playerData.maxXP * 1.5); // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ç—Ä–µ–±—É–µ–º—ã–π –æ–ø—ã—Ç
                
                showNotification(`üéâ –£—Ä–æ–≤–µ–Ω—å –ø–æ–≤—ã—à–µ–Ω! –¢–µ–ø–µ—Ä—å —É—Ä–æ–≤–µ–Ω—å ${playerData.level}!`);
                
                // –ù–∞–≥—Ä–∞–¥–∞ –∑–∞ —É—Ä–æ–≤–µ–Ω—å
                playerData.gems += 5;
                playerData.gold += 100;
            }
            
            updatePlayerUI();
        }
        
        // ========== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ==========
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }
        
        function showNotification(message) {
            // –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
            console.log('Notification:', message);
            alert(message); // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Å–¥–µ–ª–∞–π—Ç–µ –∫—Ä–∞—Å–∏–≤—ã–π –ø–æ–ø–∞–ø
        }
        
        function animateAction(action) {
            const bat = document.querySelector('.bat-character');
            bat.style.animation = 'none';
            setTimeout(() => {
                bat.style.animation = 'batHover 2s ease-in-out infinite';
            }, 100);
        }
        
        // ========== –£–ü–†–ê–í–õ–ï–ù–ò–ï –ú–û–î–ê–õ–ö–ê–ú–ò ==========
        function openTab(tabName) {
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            event.target.closest('.nav-btn').classList.add('active');
            closeAllModals();
            
            if (tabName === 'tasks') {
                document.getElementById('tasksModal').style.display = 'block';
            } else if (tabName !== 'home') {
                showNotification(`–†–∞–∑–¥–µ–ª "${tabName}" –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ`);
            }
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelectorAll('.nav-btn')[0].classList.add('active');
        }
        
        function closeAllModals() {
            document.querySelectorAll('.modal').forEach(modal => {
                modal.style.display = 'none';
            });
        }
        
        // ========== –°–û–•–†–ê–ù–ï–ù–ò–ï –î–ê–ù–ù–´–• ==========
        function savePlayerData() {
            localStorage.setItem('batPlayerData', JSON.stringify({
                ...playerData,
                tasks: tasks,
                lastSave: Date.now()
            }));
        }
        
        function loadPlayerData() {
            const saved = localStorage.getItem('batPlayerData');
            if (saved) {
                const data = JSON.parse(saved);
                playerData = { ...playerData, ...data };
                
                // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–¥–∞—á–∏
                if (data.tasks) {
                    tasks = data.tasks;
                }
                
                // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫—Ä–æ–≤—å —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º
                if (data.lastSave) {
                    const hoursPassed = (Date.now() - data.lastSave) / (1000 * 60 * 60);
                    const bloodToRestore = Math.floor(hoursPassed * 12); // 12 –∫—Ä–æ–≤–∏ –≤ —á–∞—Å
                    playerData.blood = Math.min(playerData.maxBlood, playerData.blood + bloodToRestore);
                }
            }
            
            updatePlayerUI();
        }
        
        // ========== –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ï –û–ë–ù–û–í–õ–ï–ù–ò–Ø ==========
        function startGameUpdates() {
            // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—Ä–æ–≤–∏ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
            setInterval(restoreBlood, 5 * 60 * 1000);
            
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–ø—ã—Ç–∞ –∑–∞ –≤—Ä–µ–º—è –≤ –∏–≥—Ä–µ
            setInterval(() => {
                addXP(1); // 1 XP –≤ –º–∏–Ω—É—Ç—É
            }, 60 * 1000);
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤ –æ–∫–Ω–µ
            updateWindowTime();
            setInterval(updateWindowTime, 60 * 1000);
        }
        
        function updateWindowTime() {
            const now = new Date();
            const hour = now.getHours();
            const windowContent = document.getElementById('windowContent');
            
            if (hour >= 6 && hour < 12) {
                windowContent.textContent = 'üåÖ –£—Ç—Ä–æ';
                windowContent.style.background = 'linear-gradient(to bottom, #ff7e5f, #feb47b)';
            } else if (hour >= 12 && hour < 18) {
                windowContent.textContent = '‚òÄÔ∏è –î–µ–Ω—å';
                windowContent.style.background = 'linear-gradient(to bottom, #87CEEB, #E0F6FF)';
            } else if (hour >= 18 && hour < 22) {
                windowContent.textContent = 'üåÜ –í–µ—á–µ—Ä';
                windowContent.style.background = 'linear-gradient(to bottom, #654ea3, #da98b4)';
            } else {
                windowContent.textContent = 'üåô –ù–æ—á—å';
                windowContent.style.background = 'linear-gradient(to bottom, #0f0c29, #302b63)';
            }
        }
        
        // ========== CSS –î–õ–Ø –ú–û–î–ê–õ–¨–ù–´–• –û–ö–û–ù ==========
        const modalStyles = document.createElement('style');
        modalStyles.textContent = `
            .shop-subtitle {
                color: #aaa;
                font-size: 14px;
                margin-bottom: 20px;
                text-align: center;
            }
            
            .shop-items {
                display: flex;
                flex-direction: column;
                gap: 15px;
                margin: 20px 0;
            }
            
            .shop-item {
                background: rgba(255, 255, 255, 0.1);
                border-radius: 15px;
                padding: 15px;
                display: flex;
                align-items: center;
                gap: 15px;
                cursor: pointer;
                transition: all 0.3s;
                border: 1px solid transparent;
            }
            
            .shop-item:hover {
                background: rgba(255, 255, 255, 0.15);
                border-color: #8b00ff;
                transform: translateY(-2px);
            }
            
            .shop-item-icon {
                width: 40px;
                height: 40px;
                background: rgba(0, 0, 0, 0.3);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 20px;
            }
            
            .shop-item-info {
                flex: 1;
            }
            
            .shop-item-info h4 {
                margin: 0;
                color: #ffcc00;
            }
            
            .shop-item-info p {
                margin: 5px 0 0 0;
                color: #aaa;
                font-size: 12px;
            }
            
            .shop-item-price {
                display: flex;
                align-items: center;
                gap: 8px;
                font-weight: bold;
                color: white;
            }
            
            .balance-info {
                background: rgba(0, 0, 0, 0.3);
                border-radius: 10px;
                padding: 10px;
                text-align: center;
                margin: 20px 0;
            }
            
            .telegram-payment-info {
                background: rgba(255, 204, 0, 0.1);
                border: 1px solid #ffcc00;
                border-radius: 10px;
                padding: 10px;
                margin: 20px 0;
            }
            
            .telegram-payment-info i {
                color: #ffcc00;
                margin-right: 5px;
            }
            
            .tasks-list {
                display: flex;
                flex-direction: column;
                gap: 15px;
                margin: 20px 0;
            }
            
            .task-item {
                background: rgba(255, 255, 255, 0.1);
                border-radius: 15px;
                padding: 15px;
                cursor: pointer;
                transition: all 0.3s;
            }
            
            .task-item:hover {
                background: rgba(255, 255, 255, 0.15);
            }
            
            .task-info h4 {
                margin: 0;
                color: white;
            }
            
            .task-info p {
                margin: 5px 0;
                color: #aaa;
                font-size: 12px;
            }
            
            .task-reward {
                display: flex;
                align-items: center;
                gap: 8px;
                color: #ffd700;
                font-weight: bold;
                margin: 10px 0;
            }
            
            .task-progress {
                display: flex;
                align-items: center;
                gap: 10px;
                margin-top: 10px;
            }
            
            .progress-bar {
                flex: 1;
                height: 8px;
                background: rgba(255, 255, 255, 0.1);
                border-radius: 4px;
                overflow: hidden;
            }
            
            .progress-fill {
                height: 100%;
                background: linear-gradient(90deg, #00b09b, #96c93d);
                border-radius: 4px;
            }
            
            .close-btn {
                background: linear-gradient(90deg, #ff0066, #ff9900);
                border: none;
                padding: 12px;
                border-radius: 10px;
                color: white;
                font-weight: bold;
                cursor: pointer;
                width: 100%;
                transition: all 0.3s;
            }
            
            .close-btn:hover {
                transform: scale(1.02);
                box-shadow: 0 5px 15px rgba(255, 0, 102, 0.3);
            }
        `;
        document.head.appendChild(modalStyles);
    </script>
</body>
</html>